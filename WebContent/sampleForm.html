<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Sample form Rockhopper</title>
<script src="jquery-2.1.3.js"></script>
</head>
<body>
	Name :
	<input type="text" id="nameValue" size="20" />
	<button type="button" onclick="callServer()">Call server</button>
	Server response :
	<input type="text" id="serverResp" size="40" />
	<script type="text/javascript">
		function callServer() {
			$.post("SampleFormServlet", {
				name : document.getElementById("nameValue").value
			}, function(data) {
				document.getElementById("serverResp").value = data['message'];
				alert("Data Loaded: " + data['message']);
			});
			//var status = "start";
			//var console = $('#console');

			//console.append("starting" + '\r');

			//(function poll() {
				//setTimeout(function() {
					//$.ajax({
						//url : "SampleFormServlet",
						//data : {
							//request : status
						//},
						//type : "post",
						//success : function(data) {

							//if (data.indexOf("finished") !== -1) {
								//console.append(data + '\r');
								//setTimeout(function() {
								//	console.scrollTop(console.scrollHeight
								//			- console.height());
								//}, 20);
								//status = "finished";
							//} else if (data === "") {
							//	console.append('\r');
							//	setTimeout(function() {
							//		console.scrollTop(console.scrollHeight
							//				- console.height());
							//	}, 20);
							//	status = "processing";
							//	poll();
							//} else {
							//	console.append(data + '\r');
							//	setTimeout(function() {
							//		console.scrollTop(console.scrollHeight
							//				- console.height());
							//	}, 20);
							//	status = "processing";
							//	poll();
							//}
						//},
						//dataType : "text"
					//});
				//}, 100);

			//})();
		}
	</script>
</body>
</html>